<div id="loading" data-progress="30"></div>
<style type="text/css">

    #loading {
        position: absolute;
        top: 0;
        left: 0;
        width: 100px;
        height: 100px;
        border: 1px solid lime;
    }

    #loading canvas {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
    }

    #loading span {
        color: #333;
        display: block;
        line-height: 100px;
        text-align: center;
        width: 100px;
        font-size: 40px;
        font-weight: 100;
        font-style: italic;
    }

</style>
<script type="text/javascript" src="/static/js/jquery-2.2.4.min.js"></script>
<script src="/static/js/ui.js"></script>
<script>

    function Loading (element) {

        var options = {
            strokeWidth: 10,
            lineCap: 'rectangle',
            color: '#666',
            background: '#fff'
        };

        var label = $(document.createElement('span'));
        $(element).append(label);

        var fill = new Arch(element, options);
        var arch = fill;

        var interval = null;

        var trip = -1;
        var percent = 0;

        function update () {
            percent = (percent % 100) + 1;
            if(percent == 1) {
                arch.reset();
            }
            arch.draw(percent);
        }

        this.start = function () {
            interval = setInterval(update, 32);
        }

        this.stop = function () {
            arch.reset();
            clearInterval(interval);
        }
    }

    var loading = new Loading($('#loading'));
    loading.start();

</script>
